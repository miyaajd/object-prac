<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form id="myForm" name="myForm">
      <!-- <label for="userName">Name : </label> -->
      <label>
        Name :
        <input type="text" id="userName" name="userName" />
      </label>
      <label>
        Email :
        <input type="text" id="email" name="email" />
      </label>
      <button type="submit">Submit</button>
    </form>
    <!-- output -->
    <div id="result">
      <!-- js -->
    </div>
    <div id="localStorage_result">
      <!-- js -->
    </div>
    <script>
      const form = document.querySelector("#myForm");
      const result = document.getElementById("result");
      const localStorageResult = document.querySelector("#localStorage_result");
      //   page-load
      const savedName = localStorage.getItem("name")
      const savedEmail = localStorage.getItem("Email");
    //   console.log(savedEmail);
    if(savedName && savedEmail){
        localStorageResult.innerHTML = `<p>savedName : ${savedName}</p>
       <p>savedEmail : ${savedEmail}</p>`;
    }
      form.addEventListener("submit", (e) => {
        e.preventDefault();
        // console.log("sss");
        // const name = document.querySelector("#userName").value;
        // const email = document.querySelector("#email").value;
        // console.log(name, email);
        const name = myForm.userName.value.trim();
        const email = myForm.email.value.trim();
        console.log(name, email);
        // output
        result.innerHTML = `<p>Name : ${name}</p>
       <p>Email : ${email}</p>`;
        form.reset();
        //    blank checked
        if (name === "" || email === "") {
          alert("Please fill in the blanks !");
        }
        // email 형식검사(type이 text 일때)
        if (!email.includes("@")) {
          alert("Your email is wrong.");
        }
        // local - save
        localStorage.setItem("Name", name);
        localStorage.setItem("Email", email);
        // get the localstorage-value
        const savedName = localStorage.getItem("name");
        const savedEmail = localStorage.getItem("Email");
        console.log("savedName :", savedName);
        console.log("savedEmail :", savedEmail);

        
      });
    </script>
  </body>
</html>
